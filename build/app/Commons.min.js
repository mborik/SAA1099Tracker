/*!
 * Commons: Common functions and helpers.
 * Copyright (c) 2015 Martin Borik <mborik@users.sourceforge.net>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom
 * the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS
 * OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF
 * OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(a){a.getCompatible=function(a,b,c,d){var e,f,g=a[b],h=["moz","webkit","o","Moz","WebKit","O"];if(!g)for(e=b[0],e>="a"&&e<="z"&&(b=e.toUpperCase()+b.substr(1)),e=0;e<h.length;e++)if(f=h[e]+b,g=a[f]){b=f;break}return g&&c?void 0===d?new a[b]:a[b]=d:g?g:"function"==typeof d?d:void 0},a.SyncTimer=function(){var b=this,c=0,d=!1,e=getCompatible(a,"requestAnimationFrame",!1,function(a){setTimeout(function(){a(performance.now())},b.interval)});return this.callback=function(){},this.interval=20,this.start=function(a,c,f){return!d&&(void 0!==a&&"function"==typeof a&&(b.callback=a),Number.isFinite(c)&&(b.interval=c),d=!!f,d&&e(b.loop),!0)},this.pause=function(){d=!1},this.resume=function(){d=!0,e(b.loop)},this.loop=function(a){return d&&e(b.loop),!(a-c<b.interval)&&(b.callback(),void(c=a))},this}.call(function(){}),a.browser=function(a){var b=!!a.opera||navigator.userAgent.indexOf(" OPR/")>=0,c={isOpera:b,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:Object.prototype.toString.call(a.HTMLElement).indexOf("Constructor")>0,isChrome:!!a.chrome&&!b,isIE:!!document.documentMode};return c}(a),a.dev}(window),Object.defineProperties(Number.prototype,{abs:{enumerable:!0,value:function(){var a=this.valueOf(),b=a>>31;return(a^b)-b}},toWidth:{enumerable:!0,value:function(a){var b=""+this.abs();return("0000000000"+b).substr(-Math.max(a||0,b.length))}},toHex:{enumerable:!0,value:function(a){var b=this.abs().toString(16);return("00000000"+b).substr(-Math.max(a||0,b.length))}},toTimeString:{enumerable:!0,value:function(){var a=this.valueOf(),b=(a/60).abs(),c=(a%60).abs();return("0"+b).substr(-2)+":"+("0"+c).substr(-2)}}});